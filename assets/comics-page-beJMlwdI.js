import{j as s,L as g,r}from"./index-RqZ20kqp.js";import{u as v,H as b,E as N}from"./error-boundary-ByrABHVE.js";import{A as E}from"./app-banner-DPidboyj.js";import{a as L}from"./setContent-jyZiCjhU.js";import"./error-view-ufvuAc2J.js";const k=c=>{const{id:t,name:e,price:o,image:i}=c,a="http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg";let n="comics-card__image";return i===a&&(n+=" comics-card__image_fill"),s.jsx("li",{className:"comics-card",tabIndex:"0",id:t,children:s.jsxs(g,{to:`/marvel-wiki-portal/comics/${t}`,children:[s.jsx("div",{className:n,children:s.jsx("img",{src:i,alt:`Cover of ${e} comics`})}),s.jsxs("div",{className:"comics-card__details",children:[s.jsx("h3",{className:"comics-card__title",children:e}),s.jsx("span",{className:"comics-card__price",children:o})]})]})})},P=c=>c?c.map(({id:t,name:e,price:o,thumbnail:i},a)=>s.jsx(k,{id:t,name:e,image:i,price:o},a)):null,M=()=>{const c=v(),t=c._baseComicsLimit,{process:e,setProcess:o,clearError:i,getAllComics:a}=c,[n,u]=r.useState([]),[x,j]=r.useState(!1),[h,f]=r.useState(0);r.useEffect(()=>{d()},[]);const _=m=>{let p=!1;m.length<t&&(p=!0),u(l=>[...l,...m]),j(p),f(l=>l+t)},d=m=>{i(),a(m).then(_).then(()=>o("success"))},C=r.useMemo(()=>L(e,()=>P(n)),[e]);return s.jsxs("div",{className:"comics-section",children:[s.jsx("ul",{className:"comics-section__list",children:C}),s.jsx("button",{className:"app-button app-button_main app-button_wide",disabled:e==="loading",style:{display:x?"none":"block"},onClick:()=>d(h),children:"Load More"})]})},H=()=>s.jsxs(s.Fragment,{children:[s.jsxs(b,{children:[s.jsx("meta",{name:"description",content:"Marvel Wiki Portal - Comics"}),s.jsx("title",{children:"Marvel Wiki Portal - Comics"})]}),s.jsx(E,{}),s.jsx(N,{children:s.jsx(M,{})})]});export{H as default};
