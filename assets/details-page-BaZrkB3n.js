import{P as x,r as j,j as e,S as g,L as v,u as E}from"./index-mTaHDWfn.js";import{A as b}from"./app-banner-D9Pn8DeM.js";import{u as k,H as P,E as w}from"./error-boundary-64T6BQ9-.js";import{E as C}from"./error-view-DhDp32J1.js";const _=r=>{const{id:t,type:a}=r,{process:n,setProcess:c,getCharacter:l,getSingleComics:o,clearError:m}=k(),[d,p]=j.useState(null);j.useEffect(()=>{u(t)},[t]);const s=i=>{p(i)},u=i=>{m(),a==="comics"&&o(i).then(s).then(()=>c("success")),a==="characters"&&l(i).then(s).then(()=>c("success"))},f=((i,N,$)=>{switch(i){case"idle":return e.jsx(g,{});case"loading":return e.jsx(g,{});case"success":return e.jsx(N,{type:a,item:$});case"failure":return e.jsx(C,{flex:"column"});default:throw new Error("Unexpected process state")}})(n,y,d);return e.jsx(e.Fragment,{children:f})},y=({item:r,type:t})=>{if(!r)return null;const{name:a,thumbnail:n,pages:c,price:l,description:o,language:m,homepage:d,wiki:p}=r,s="item-info",u="http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg";let h=`${s}__image`;return n===u&&(h+=` ${s}__image_fill`),e.jsxs("div",{className:s,children:[e.jsxs(P,{children:[e.jsx("meta",{name:"description",content:`Marvel Wiki Portal - ${a} details`}),e.jsx("title",{children:`Marvel Wiki Portal - ${a}`})]}),e.jsx("div",{className:h,children:e.jsx("img",{src:n,alt:`${a}`})}),e.jsxs("div",{className:`${s}__main`,children:[e.jsx("h3",{className:`${s}__title`,children:a}),e.jsx("article",{className:`${s}__description`,children:o}),t==="comics"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${s}__pages`,children:c}),e.jsxs("div",{className:`${s}__lang`,children:["Language: ",m]}),e.jsx("span",{className:`${s}__price`,children:l})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:`${s}__buttons`,children:[e.jsx("a",{href:d,className:"app-button app-button_main",children:"Homepage"}),e.jsx("a",{href:p,className:"app-button",children:"Wiki"})]})})]}),e.jsx("div",{className:`${s}__links`,children:e.jsx(v,{to:t==="comics"?"/comics":"/characters",className:`${s}__link`,children:"Back to all"})})]})};_.propTypes={id:x.number.isRequired,type:x.oneOf(["comics","characters"]).isRequired};const L=()=>{let{id:r,type:t}=E();return e.jsxs(e.Fragment,{children:[e.jsx(b,{}),e.jsx(w,{children:e.jsx(_,{id:+r,type:t})})]})};export{L as default};
