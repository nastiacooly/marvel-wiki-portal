import{j as s,L as g,r,H as v}from"./index-CyZ2JkOp.js";import{u as b,H as E,E as N}from"./ErrorBoundary-DYRgfvH4.js";import{A as S}from"./AppBanner-0YU0litv.js";import{a as L}from"./setContent-D1r6X6jh.js";import"./ErrorView-Ig0ImZ4c.js";const k=({id:e,name:t,price:c,imgSrc:o})=>{const a="http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg";let i="comics-card__image";return o===a&&(i+=" comics-card__image_fill"),s.jsx("li",{className:"comics-card",tabIndex:0,id:e.toString(),children:s.jsxs(g,{to:`/comics/${e}`,children:[s.jsx("div",{className:i,children:s.jsx("img",{src:o,alt:`Cover of ${t} comics`})}),s.jsxs("div",{className:"comics-card__details",children:[s.jsx("h3",{className:"comics-card__title",children:t}),s.jsx("span",{className:"comics-card__price",children:c})]})]})})},M=e=>!e||e.length===0?null:e.map(({id:t,name:c,price:o,imgSrc:a},i)=>s.jsx(k,{id:t,name:c,imgSrc:a,price:o},i)),P=()=>{const e=b(),t=e._baseComicsLimit,{process:c,setProcess:o,clearError:a,getAllComics:i}=e,[p,u]=r.useState([]),[x,j]=r.useState(!1),[h,C]=r.useState(0);r.useEffect(()=>{m()},[]);const f=n=>{let d=!1;n.length<t&&(d=!0),u(l=>[...l,...n]),j(d),C(l=>l+t)},m=n=>{a(),i(n).then(f).then(()=>o(v.SUCCESS))},_=r.useMemo(()=>L(c,()=>M(p)),[c]);return s.jsxs("div",{className:"comics-section",children:[s.jsx("ul",{className:"comics-section__list",children:_}),s.jsx("button",{className:"app-button app-button_main app-button_wide",disabled:c==="loading",style:{display:x?"none":"block"},onClick:()=>m(h),children:"Load More"})]})},R=()=>s.jsxs(s.Fragment,{children:[s.jsxs(E,{children:[s.jsx("meta",{name:"description",content:"Marvel Wiki Portal - Comics"}),s.jsx("title",{children:"Marvel Wiki Portal - Comics"})]}),s.jsx(S,{}),s.jsx(N,{children:s.jsx(P,{})})]});export{R as default};
