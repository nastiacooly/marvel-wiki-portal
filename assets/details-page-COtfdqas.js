import{P as x,r as j,j as e,S as g,L as $,u as k}from"./index-RqZ20kqp.js";import{A as E}from"./app-banner-DPidboyj.js";import{u as b,H as w,E as P}from"./error-boundary-ByrABHVE.js";import{E as C}from"./error-view-ufvuAc2J.js";const _=r=>{const{id:t,type:a}=r,{process:n,setProcess:c,getCharacter:l,getSingleComics:o,clearError:m}=b(),[d,p]=j.useState(null);j.useEffect(()=>{u(t)},[t]);const s=i=>{p(i)},u=i=>{m(),a==="comics"&&o(i).then(s).then(()=>c("success")),a==="characters"&&l(i).then(s).then(()=>c("success"))},f=((i,N,v)=>{switch(i){case"idle":return e.jsx(g,{});case"loading":return e.jsx(g,{});case"success":return e.jsx(N,{type:a,item:v});case"failure":return e.jsx(C,{flex:"column"});default:throw new Error("Unexpected process state")}})(n,y,d);return e.jsx(e.Fragment,{children:f})},y=({item:r,type:t})=>{if(!r)return null;const{name:a,thumbnail:n,pages:c,price:l,description:o,language:m,homepage:d,wiki:p}=r,s="item-info",u="http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg";let h=`${s}__image`;return n===u&&(h+=` ${s}__image_fill`),e.jsxs("div",{className:s,children:[e.jsxs(w,{children:[e.jsx("meta",{name:"description",content:`Marvel Wiki Portal - ${a} details`}),e.jsx("title",{children:`Marvel Wiki Portal - ${a}`})]}),e.jsx("div",{className:h,children:e.jsx("img",{src:n,alt:`${a}`})}),e.jsxs("div",{className:`${s}__main`,children:[e.jsx("h3",{className:`${s}__title`,children:a}),e.jsx("article",{className:`${s}__description`,children:o}),t==="comics"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${s}__pages`,children:c}),e.jsxs("div",{className:`${s}__lang`,children:["Language: ",m]}),e.jsx("span",{className:`${s}__price`,children:l})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:`${s}__buttons`,children:[e.jsx("a",{href:d,className:"app-button app-button_main",children:"Homepage"}),e.jsx("a",{href:p,className:"app-button",children:"Wiki"})]})})]}),e.jsx("div",{className:`${s}__links`,children:e.jsx($,{to:t==="comics"?"/marvel-wiki-portal/comics":"/marvel-wiki-portal/characters",className:`${s}__link`,children:"Back to all"})})]})};_.propTypes={id:x.number.isRequired,type:x.oneOf(["comics","characters"]).isRequired};const L=()=>{let{id:r,type:t}=k();return e.jsxs(e.Fragment,{children:[e.jsx(E,{}),e.jsx(P,{children:e.jsx(_,{id:+r,type:t})})]})};export{L as default};
