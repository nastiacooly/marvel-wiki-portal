(this["webpackJsonpmarvel-wiki-portal"]=this["webpackJsonpmarvel-wiki-portal"]||[]).push([[4],{21:function(e,t,a){"use strict";a(22);var r=a(1),c=function(e){var t,a=e.message;switch(e.flex){case"column":t="error-view error-view_columned";break;case"row":t="error-view error-view_rowed";break;default:t="error-view"}return Object(r.jsxs)("div",{className:t,children:[Object(r.jsx)(n,{}),Object(r.jsx)("p",{className:"error-view__message",children:a})]})},n=function(){return Object(r.jsx)("svg",{viewBox:"0 0 100 100",y:"0",x:"0",xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{height:"150px",width:"150px",background:"none"},width:"150px",height:"150px",children:Object(r.jsx)("g",{className:"ldl-scale",style:{transformOrigin:"50% 50%",transform:"scale(0.8, 0.8)"},children:Object(r.jsxs)("g",{className:"ldl-ani",children:[Object(r.jsx)("g",{className:"ldl-layer",children:Object(r.jsx)("g",{className:"ldl-ani",style:{transformOrigin:"50px 50px",transform:"scale(0.91)"},children:Object(r.jsx)("path",{fill:"#e15b64",d:"M14.653 85.487c-3.138-1.806-4.167-6.008-2.198-9.12 8.401-13.282 18.34-25.329 29.177-36.099 10.916-10.864 22.708-20.49 34.913-29.273 2.772-1.995 6.57-1.344 8.557 1.485 1.928 2.744 1.471 6.578-1.06 8.732-11.111 9.456-21.591 19.558-30.95 30.517C43.876 62.5 35.786 74.12 29.248 86.488c-1.653 3.126-5.423 4.276-8.429 2.547l-6.166-3.548z",style:{fill:"rgb(159, 0, 19)"},children:Object(r.jsx)("animateTransform",{attributeName:"transform",type:"scale",dur:"2s",repeatCount:"indefinite",keyTimes:"0; 0.5; 1",values:"0.8 0.8; 1 1; 0.8 0.8"})})})}),Object(r.jsx)("g",{className:"ldl-layer",children:Object(r.jsx)("g",{className:"ldl-ani",style:{transformOrigin:"50px 50px",transform:"scale(0.91)"},children:Object(r.jsx)("path",{fill:"#e15b64",d:"M78.739 82.438c-3.067 1.804-7.041.872-8.916-2.152-6.367-10.267-14.543-19.718-23.698-28.397-9.306-8.827-19.587-16.906-30.29-24.594a6.594 6.594 0 0 1-1.682-8.948l1.23-1.895a6.609 6.609 0 0 1 9.03-2.012c11.571 7.19 22.962 14.943 33.735 23.864 10.673 8.851 20.777 18.958 29.162 30.721 2.256 3.165 1.337 7.584-2.014 9.555l-6.557 3.858z",style:{fill:"rgb(159, 0, 19)"},children:Object(r.jsx)("animateTransform",{attributeName:"transform",type:"scale",dur:"2s",begin:"0.5s",repeatCount:"indefinite",keyTimes:"0; 0.5; 1",values:"1 1; 0.8 0.8; 1 1"})})})})]})})})};c.defaultProps={message:"Something went wrong"},t.a=c},22:function(e,t,a){},25:function(e,t,a){"use strict";var r=a(21),c=a(9),n=a(1);t.a=function(e,t,a,s){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return e?Object(n.jsx)(r.a,{message:t,flex:o}):a?s:i?Object(n.jsxs)(n.Fragment,{children:[s," ",Object(n.jsx)(c.a,{})]}):Object(n.jsx)(c.a,{})}},26:function(e,t,a){"use strict";var r=a(23),c=a.n(r),n=a(24),s=a(4),i=a(0),o=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(i.useState)(e),a=Object(s.a)(t,2),r=a[0],o=a[1],l=Object(i.useState)(!1),u=Object(s.a)(l,2),h=u[0],d=u[1],j=Object(i.useState)(""),b=Object(s.a)(j,2),m=b[0],f=b[1],p=Object(i.useState)(!1),O=Object(s.a)(p,2),g=O[0],v=O[1],x=Object(i.useCallback)(function(){var e=Object(n.a)(c.a.mark((function e(t){var a,r,n,s,i,l=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>1&&void 0!==l[1]?l[1]:"GET",r=l.length>2&&void 0!==l[2]?l[2]:null,n=l.length>3&&void 0!==l[3]?l[3]:{"Content-type":"application/json"},o(!1),d(!1),v(!0),e.prev=6,e.next=9,fetch(t,{method:a,body:r,headers:n});case 9:if((s=e.sent).ok){e.next=12;break}throw new Error("Could not fetch ".concat(t,", status: ").concat(s.status));case 12:return e.next=14,s.json();case 14:return i=e.sent,o(!0),d(!1),v(!1),e.abrupt("return",i);case 21:throw e.prev=21,e.t0=e.catch(6),o(!0),d(!0),v(!1),f("Something went wrong. Please try again later."),e.t0;case 28:case"end":return e.stop()}}),e,null,[[6,21]])})));return function(t){return e.apply(this,arguments)}}(),[]),_=Object(i.useCallback)((function(){d(!1),f("")}),[]);return{loaded:r,error:h,errorMessage:m,newItemsLoading:g,request:x,clearError:_}},l="0cccfebfa143cbee173b3ff218a5afc4";t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=o(e),a=t.loaded,r=t.error,s=t.errorMessage,i=t.request,u=t.clearError,h="https://gateway.marvel.com:443/v1/public",d="apikey=",j=210,b=9,m=4,f={allCharacters:"".concat(h,"/characters?"),singleCharacter:"".concat(h,"/characters/"),allComics:"".concat(h,"/comics?"),singleComics:"".concat(h,"/comics/")},p=function(){var e=Object(n.a)(c.a.mark((function e(){var t,a,r=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:j,e.next=3,i(f.allCharacters+"limit=".concat(b,"&offset=").concat(t,"&").concat(d).concat(l));case 3:return a=e.sent,e.abrupt("return",a.data.results.map(_));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(n.a)(c.a.mark((function e(t){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.toString().length<7)){e.next=2;break}throw new Error("Invalid id of a character");case 2:return e.next=4,i(f.singleCharacter+t+"?"+d+l);case 4:return a=e.sent,r=a.data.results[0],e.abrupt("return",_(r));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(n.a)(c.a.mark((function e(){var t,a,r=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:0,e.next=3,i(f.allComics+"limit=".concat(m,"&offset=").concat(t,"&").concat(d).concat(l));case 3:return a=e.sent,e.abrupt("return",a.data.results.map(w));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(n.a)(c.a.mark((function e(t){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(f.singleComics+t+"?"+d+l);case 2:return a=e.sent,r=a.data.results[0],e.abrupt("return",w(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(n.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.toString().length<7)){e.next=2;break}throw new Error("Invalid id of a character");case 2:return e.next=4,i(f.singleCharacter+t+"/comics?"+d+l);case 4:return a=e.sent,e.abrupt("return",a.data.results.map(w));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e){var t="\n            Please visit Homepage or Wiki for detailed description of ".concat(e.name,"\n            "),a=e.description||t;return a.length>=235&&(a=a.slice(0,235)+"..."),{id:e.id,name:e.name,description:a,thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,homepage:e.urls[0].url,wiki:e.urls[1].url}},w=function(e){var t=e.prices[0].price?"".concat(e.prices[0].price,"$"):"Price Not Available",a=e.pageCount?"".concat(e.pageCount," pages"):"Unknown number of pages";return{id:e.id,title:e.title,description:e.description||"No description available",price:t,thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,pages:a,language:e.textObjects.language||"en-US"}};return{_baseCharactersLimit:b,_baseCharactersOffset:j,_baseComicsLimit:m,loaded:a,error:r,errorMessage:s,clearError:u,getAllCharacters:p,getCharacter:O,getAllComics:g,getSingleComics:v,getCharacterComics:x}}},27:function(e,t,a){"use strict";var r=a(28),c=a(29),n=a(31),s=a(30),i=a(0),o=a(21),l=a(1),u=function(e){Object(n.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(r.a)(this,a);for(var c=arguments.length,n=new Array(c),s=0;s<c;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={error:!1},e}return Object(c.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?Object(l.jsx)(o.a,{message:"Something went wrong. Please try again later"}):this.props.children}}]),a}(i.Component);t.a=u},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var r=a(4),c=a(0),n=a(26),s=a(25),i=(a(11),a(36),a(1)),o=function(e){var t=e.character,a=t.name,r=t.thumbnail,c=t.description,n=t.homepage,s=t.wiki,o="random-character__image";return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===r&&(o+=" random-character__image_contain"),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:o,children:Object(i.jsx)("img",{src:r,alt:"random character"})}),Object(i.jsxs)("div",{className:"random-character__details",children:[Object(i.jsx)("h3",{className:"random-character__name",children:a}),Object(i.jsx)("p",{className:"random-character__descr",children:c}),Object(i.jsxs)("div",{className:"random-character__links",children:[Object(i.jsx)("a",{href:n,className:"app-button app-button_main",children:"Homepage"}),Object(i.jsx)("a",{href:s,className:"app-button",children:"Wiki"})]})]})]})},l=function(){var e=Object(n.a)(),t=e.loaded,a=e.error,l=e.errorMessage,u=e.getCharacter,h=e.clearError,d=Object(c.useState)({}),j=Object(r.a)(d,2),b=j[0],m=j[1];Object(c.useEffect)((function(){p()}),[]);var f=function(e){m(e)},p=function(){h();var e=1011e3,t=Math.floor(e+400*Math.random());u(t).then(f)},O=Object(i.jsx)(o,{character:b}),g=Object(s.a)(a,l,t,O,!1,"row");return Object(i.jsxs)("section",{className:"random-section",children:[Object(i.jsx)("div",{className:"random-character",children:g}),Object(i.jsxs)("div",{className:"random-choose",children:[Object(i.jsxs)("p",{className:"random-choose__text",children:["Random character for today!",Object(i.jsx)("br",{}),"Do you want to get to know him better?"]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{className:"random-choose__text random-choose__text_margined",children:"Or choose another one"}),Object(i.jsx)("button",{className:"app-button app-button_main app-button_on-dark-bg",onClick:p,children:"Try It"})]})]})]})},u=a(35),h=(a(37),function(e){var t=e.id,a=e.image,r=e.name,c=e.onCharacterCardSelected,n="character-card__image";"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===a&&(n+=" character-card__image_contain");var s=e.active?"character-card character-card_active":"character-card";return Object(i.jsxs)("li",{className:s,tabIndex:"0",onClick:function(){return c(t)},onKeyPress:function(e){" "!==e.key&&"Enter"!==e.key||c(t)},children:[Object(i.jsx)("div",{className:n,children:Object(i.jsx)("img",{src:a,alt:"Comics Character Portrait"})}),Object(i.jsx)("div",{className:"character-card__details",children:Object(i.jsx)("h3",{className:"character-card__name",children:r})})]})}),d=(a(38),function(e){var t=e.onCharacterCardSelected,a=e.activeCharacterCard,o=Object(n.a)(),l=o._baseCharactersOffset,d=o._baseCharactersLimit,j=o.loaded,b=o.error,m=o.errorMessage,f=o.newItemsLoading,p=o.clearError,O=o.getAllCharacters,g=Object(c.useState)([]),v=Object(r.a)(g,2),x=v[0],_=v[1],w=Object(c.useState)(!1),C=Object(r.a)(w,2),N=C[0],k=C[1],y=Object(c.useState)(l),S=Object(r.a)(y,2),E=S[0],M=S[1];Object(c.useEffect)((function(){I()}),[]);var P=function(e){var t=!1;e.length<d&&(t=!0),_((function(t){return[].concat(Object(u.a)(t),Object(u.a)(e))})),k(t),M((function(e){return e+d}))},I=function(e){p(),O(e).then(P)},T=function(e,t,a){return e?e.map((function(e){var r=e.id,c=e.name,n=e.thumbnail,s=r===t;return Object(i.jsx)(h,{id:r,name:c,image:n,onCharacterCardSelected:a,active:s},r)})):null}(x,a,t),A=Object(s.a)(b,m,j,T,!0,"column");return Object(i.jsxs)("div",{className:"characters-section",children:[Object(i.jsx)("ul",{className:"characters-section__list",children:A}),Object(i.jsx)("button",{className:"app-button app-button_main app-button_wide",disabled:f,style:{display:N?"none":"block"},onClick:function(){return I(E)},children:"Load More"})]})}),j=a(5),b=(a(39),function(){return Object(i.jsxs)("div",{className:"character__skeleton",children:[Object(i.jsx)("p",{className:"character__select",children:"Please select a character to see information"}),Object(i.jsxs)("div",{className:"skeleton",children:[Object(i.jsxs)("div",{className:"pulse skeleton__header",children:[Object(i.jsx)("div",{className:"pulse skeleton__circle"}),Object(i.jsx)("div",{className:"pulse skeleton__mini"})]}),Object(i.jsx)("div",{className:"pulse skeleton__block"}),Object(i.jsx)("div",{className:"pulse skeleton__block"}),Object(i.jsx)("div",{className:"pulse skeleton__block"})]})]})}),m=(a(40),function(e){var t=e.character;if(!t)return Object(i.jsx)(b,{});var a=t.name,r=t.thumbnail,c=t.description,n=t.homepage,s=t.wiki,o="character-info__image";return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===r&&(o+=" character-info__image_contain"),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"character-info__header",children:[Object(i.jsx)("div",{className:o,children:Object(i.jsx)("img",{src:r,alt:"Character Portrait"})}),Object(i.jsxs)("div",{className:"character-info__main",children:[Object(i.jsx)("h3",{className:"character-info__name",children:a}),Object(i.jsxs)("div",{className:"character-info__links",children:[Object(i.jsx)("a",{href:n,className:"app-button app-button_main app-button_mb10",children:"Homepage"}),Object(i.jsx)("a",{href:s,className:"app-button",children:"Wiki"})]})]})]}),Object(i.jsx)("article",{className:"character-info__bio",children:c})]})}),f=function(e){var t=e.id,a=e.title,r=e.image;return Object(i.jsx)("li",{className:"character-info__single-comics",children:Object(i.jsxs)(j.b,{to:"/marvel-wiki-portal/comics/".concat(t),className:"character-info__single-comics_on-hover",children:[Object(i.jsx)("h6",{children:a}),Object(i.jsx)("div",{children:Object(i.jsx)("img",{src:r,alt:"Cover of ".concat(a," comics")})})]})})},p=function(e){var t=e.characterComics;if(!t)return null;var a=t.map((function(e){var t=e.id,a=e.title,r=e.thumbnail;return Object(i.jsx)(f,{id:t,title:a,image:r},t)}));return 0===a.length?null:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h5",{children:"Comics:"})," ",a]})},O=function(e){var t=e.characterId,a=Object(c.useRef)(null),o=Object(n.a)(!0),l=o.loaded,u=o.error,h=o.errorMessage,d=o.getCharacter,j=o.getCharacterComics,b=o.clearError,f=Object(c.useState)(null),O=Object(r.a)(f,2),g=O[0],v=O[1],x=Object(c.useState)([]),_=Object(r.a)(x,2),w=_[0],C=_[1];Object(c.useEffect)((function(){S(t),N()}),[t]);var N=function(){var e=a.current.getBoundingClientRect(),t=window.scrollY+e.top;window.scrollTo(0,t)},k=function(e){v(e)},y=function(e){C(e)},S=function(e){e&&(b(),v(null),C([]),d(e).then(k).then((function(){return j(e)})).then(y))},E=Object(i.jsx)(m,{character:g}),M=Object(s.a)(u,h,l,E,!1,"row");return Object(i.jsxs)("div",{className:"character-info",ref:a,children:[M,Object(i.jsx)("ul",{className:"character-info__comics",children:Object(i.jsx)(p,{characterComics:w})})]})},g=a(27),v=a.p+"static/media/bottom_bg.4d6f9671.png";t.default=function(){var e=Object(c.useState)(null),t=Object(r.a)(e,2),a=t[0],n=t[1];return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(g.a,{children:Object(i.jsx)(l,{})}),Object(i.jsxs)("div",{className:"characters-container",children:[Object(i.jsx)(g.a,{children:Object(i.jsx)(d,{activeCharacterCard:a,onCharacterCardSelected:function(e){n(e)}})}),Object(i.jsx)(g.a,{children:Object(i.jsx)(O,{characterId:a})})]}),Object(i.jsx)("div",{className:"bg-decoration",children:Object(i.jsx)("img",{src:v,alt:"Vision Character in Attacking Pose",className:"bg-decoration__image"})})]})}}}]);
//# sourceMappingURL=4.5451226a.chunk.js.map