(this["webpackJsonpmarvel-wiki-portal"]=this["webpackJsonpmarvel-wiki-portal"]||[]).push([[5],{211:function(e,t,r){},212:function(e,t,r){},218:function(e,t,r){"use strict";r.r(t);var n=r(49),a=r(64),c=r(33),s=r(4),i=r(0),o=r(30),l=r(41),u=r(5),b=(r(211),r(1)),j=function(e){var t=e.id,r=e.name,n=e.price,a=e.image,c="comics-card__image";return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===a&&(c+=" comics-card__image_fill"),Object(b.jsx)("li",{className:"comics-card",tabIndex:"0",id:t,children:Object(b.jsxs)(u.b,{to:"/marvel-wiki-portal/comics/".concat(t),children:[Object(b.jsx)("div",{className:c,children:Object(b.jsx)("img",{src:a,alt:"Cover of ".concat(r," comics")})}),Object(b.jsxs)("div",{className:"comics-card__details",children:[Object(b.jsx)("h3",{className:"comics-card__title",children:r}),Object(b.jsx)("span",{className:"comics-card__price",children:n})]})]})})},d=(r(212),function(){var e=Object(o.a)(),t=e._baseComicsLimit,r=e.process,n=e.setProcess,a=e.clearError,u=e.getAllComics,d=Object(i.useState)([]),m=Object(s.a)(d,2),p=m[0],f=m[1],h=Object(i.useState)(!1),v=Object(s.a)(h,2),x=v[0],O=v[1],g=Object(i.useState)(0),w=Object(s.a)(g,2),_=w[0],k=w[1];Object(i.useEffect)((function(){N()}),[]);var y=function(e){var r=!1;e.length<t&&(r=!0),f((function(t){return[].concat(Object(c.a)(t),Object(c.a)(e))})),O(r),k((function(e){return e+t}))},N=function(e){a(),u(e).then(y).then((function(){return n("success")}))},C=Object(i.useMemo)((function(){return Object(l.b)(r,(function(){return function(e){return e?e.map((function(e,t){var r=e.id,n=e.name,a=e.price,c=e.thumbnail;return Object(b.jsx)(j,{id:r,name:n,image:c,price:a},t)})):null}(p)}))}),[r]);return Object(b.jsxs)("div",{className:"comics-section",children:[Object(b.jsx)("ul",{className:"comics-section__list",children:C}),Object(b.jsx)("button",{className:"app-button app-button_main app-button_wide",disabled:"loading"===r,style:{display:x?"none":"block"},onClick:function(){return N(_)},children:"Load More"})]})}),m=r(40);t.default=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(n.a,{children:[Object(b.jsx)("meta",{name:"description",content:"Marvel Wiki Portal - Comics"}),Object(b.jsx)("title",{children:"Marvel Wiki Portal - Comics"})]}),Object(b.jsx)(a.a,{}),Object(b.jsx)(m.a,{children:Object(b.jsx)(d,{})})]})}},24:function(e,t,r){"use strict";r(31);var n=r(1),a=function(e){var t,r=e.process,a=e.errorMessage,s=e.flex;if("failure"!==r)return null;switch(s){case"column":t="error-view error-view_columned";break;case"row":t="error-view error-view_rowed";break;default:t="error-view"}return Object(n.jsxs)("div",{className:t,children:[Object(n.jsx)(c,{}),Object(n.jsx)("p",{className:"error-view__message",children:a})]})},c=function(){return Object(n.jsx)("svg",{viewBox:"0 0 100 100",y:"0",x:"0",xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{height:"150px",width:"150px",background:"none"},width:"150px",height:"150px",children:Object(n.jsx)("g",{className:"ldl-scale",style:{transformOrigin:"50% 50%",transform:"scale(0.8, 0.8)"},children:Object(n.jsxs)("g",{className:"ldl-ani",children:[Object(n.jsx)("g",{className:"ldl-layer",children:Object(n.jsx)("g",{className:"ldl-ani",style:{transformOrigin:"50px 50px",transform:"scale(0.91)"},children:Object(n.jsx)("path",{fill:"#e15b64",d:"M14.653 85.487c-3.138-1.806-4.167-6.008-2.198-9.12 8.401-13.282 18.34-25.329 29.177-36.099 10.916-10.864 22.708-20.49 34.913-29.273 2.772-1.995 6.57-1.344 8.557 1.485 1.928 2.744 1.471 6.578-1.06 8.732-11.111 9.456-21.591 19.558-30.95 30.517C43.876 62.5 35.786 74.12 29.248 86.488c-1.653 3.126-5.423 4.276-8.429 2.547l-6.166-3.548z",style:{fill:"rgb(159, 0, 19)"},children:Object(n.jsx)("animateTransform",{attributeName:"transform",type:"scale",dur:"2s",repeatCount:"indefinite",keyTimes:"0; 0.5; 1",values:"0.8 0.8; 1 1; 0.8 0.8"})})})}),Object(n.jsx)("g",{className:"ldl-layer",children:Object(n.jsx)("g",{className:"ldl-ani",style:{transformOrigin:"50px 50px",transform:"scale(0.91)"},children:Object(n.jsx)("path",{fill:"#e15b64",d:"M78.739 82.438c-3.067 1.804-7.041.872-8.916-2.152-6.367-10.267-14.543-19.718-23.698-28.397-9.306-8.827-19.587-16.906-30.29-24.594a6.594 6.594 0 0 1-1.682-8.948l1.23-1.895a6.609 6.609 0 0 1 9.03-2.012c11.571 7.19 22.962 14.943 33.735 23.864 10.673 8.851 20.777 18.958 29.162 30.721 2.256 3.165 1.337 7.584-2.014 9.555l-6.557 3.858z",style:{fill:"rgb(159, 0, 19)"},children:Object(n.jsx)("animateTransform",{attributeName:"transform",type:"scale",dur:"2s",begin:"0.5s",repeatCount:"indefinite",keyTimes:"0; 0.5; 1",values:"1 1; 0.8 0.8; 1 1"})})})})]})})})};a.defaultProps={process:"failure",errorMessage:"Something went wrong. Please try again later"},t.a=a},30:function(e,t,r){"use strict";var n=r(34),a=r.n(n),c=r(35),s=r(4),i=r(0),o=function(){var e=Object(i.useState)("idle"),t=Object(s.a)(e,2),r=t[0],n=t[1],o=Object(i.useCallback)(function(){var e=Object(c.a)(a.a.mark((function e(t){var r,c,s,i,o,l=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:"GET",c=l.length>2&&void 0!==l[2]?l[2]:null,s=l.length>3&&void 0!==l[3]?l[3]:{"Content-type":"application/json"},n("loading"),e.prev=4,e.next=7,fetch(t,{method:r,body:c,headers:s});case 7:if((i=e.sent).ok){e.next=10;break}throw new Error("Could not fetch ".concat(t,", status: ").concat(i.status));case 10:return e.next=12,i.json();case 12:return o=e.sent,e.abrupt("return",o);case 16:throw e.prev=16,e.t0=e.catch(4),n("failure"),e.t0;case 20:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t){return e.apply(this,arguments)}}(),[]),l=Object(i.useCallback)((function(){n("loading")}),[]);return{process:r,setProcess:n,request:o,clearError:l}},l="0cccfebfa143cbee173b3ff218a5afc4";t.a=function(){var e=o(),t=e.process,r=e.request,n=e.clearError,s=e.setProcess,i="https://gateway.marvel.com:443/v1/public",u="apikey=",b="".concat(i,"/characters?"),j="".concat(i,"/characters/"),d="".concat(i,"/comics?"),m="".concat(i,"/comics/"),p=function(){var e=Object(c.a)(a.a.mark((function e(){var t,n,c=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:210,e.next=3,r(b+"limit=".concat(9,"&offset=").concat(t,"&").concat(u).concat(l));case 3:return n=e.sent,e.abrupt("return",n.data.results.map(g));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.toString().length<7)){e.next=2;break}throw new Error("Invalid id of a character");case 2:return e.next=4,r(j+t+"?"+u+l);case 4:return n=e.sent,c=n.data.results[0],e.abrupt("return",g(c));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(b+"name=".concat(t)+"&"+u+l);case 2:return n=e.sent,c=n.data.results[0],e.abrupt("return",g(c));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(a.a.mark((function e(){var t,n,c=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:0,e.next=3,r(d+"limit=".concat(4,"&offset=").concat(t,"&").concat(u).concat(l));case 3:return n=e.sent,e.abrupt("return",n.data.results.map(w));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(m+t+"?"+u+l);case 2:return n=e.sent,c=n.data.results[0],e.abrupt("return",w(c));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.toString().length<7)){e.next=2;break}throw new Error("Invalid id of a character");case 2:return e.next=4,r(j+t+"/comics?"+u+l);case 4:return n=e.sent,e.abrupt("return",n.data.results.map(w));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){if(!e)return null;var t="\n            Please visit Homepage or Wiki for detailed description of ".concat(e.name,"\n        "),r=e.description||t;return{id:e.id,name:e.name,description:r,thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,homepage:e.urls[0].url,wiki:e.urls[1].url}},w=function(e){var t=e.prices[0].price?"".concat(e.prices[0].price,"$"):"Price Not Available",r=e.pageCount?"".concat(e.pageCount," pages"):"Unknown number of pages";return{id:e.id,name:e.title,description:e.description||"No description available",price:t,thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,pages:r,language:e.textObjects.language||"en-US"}};return{_baseCharactersLimit:9,_baseCharactersOffset:210,_baseComicsLimit:4,process:t,setProcess:s,clearError:n,getAllCharacters:p,getCharacter:f,getAllComics:v,getSingleComics:x,getCharacterComics:O,getCharacterByName:h}}},31:function(e,t,r){},33:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(8);var a=r(6);function c(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},40:function(e,t,r){"use strict";var n=r(22),a=r(23),c=r(26),s=r(27),i=r(0),o=r(24),l=r(1),u=function(e){Object(c.a)(r,e);var t=Object(s.a)(r);function r(){var e;Object(n.a)(this,r);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={error:!1},e}return Object(a.a)(r,[{key:"componentDidCatch",value:function(e,t){this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?Object(l.jsx)(o.a,{message:"Something went wrong. Please try again later"}):this.props.children}}]),r}(i.Component);t.a=u},41:function(e,t,r){"use strict";r.d(t,"b",(function(){return i}));r(51);var n=r(1),a=function(){return Object(n.jsxs)("div",{className:"character__skeleton",children:[Object(n.jsx)("p",{className:"character__select",children:"Please select a character to see information"}),Object(n.jsxs)("div",{className:"skeleton",children:[Object(n.jsxs)("div",{className:"pulse skeleton__header",children:[Object(n.jsx)("div",{className:"pulse skeleton__circle"}),Object(n.jsx)("div",{className:"pulse skeleton__mini"})]}),Object(n.jsx)("div",{className:"pulse skeleton__block"}),Object(n.jsx)("div",{className:"pulse skeleton__block"}),Object(n.jsx)("div",{className:"pulse skeleton__block"})]})]})},c=r(9),s=r(24),i=function(e,t){switch(e){case"idle":return Object(n.jsx)(c.a,{});case"loading":return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(t,{}),": ",Object(n.jsx)(c.a,{})]});case"success":return Object(n.jsx)(t,{});case"failure":return Object(n.jsx)(s.a,{flex:"column"});default:throw new Error("Unexpected process state")}};t.a=function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;switch(e){case"idle":return i?Object(n.jsx)(a,{}):Object(n.jsx)(c.a,{});case"loading":return Object(n.jsx)(c.a,{});case"success":return Object(n.jsx)(r,{character:t,characterComics:i});case"failure":return Object(n.jsx)(s.a,{flex:"row"});default:throw new Error("Unexpected process state")}}},51:function(e,t,r){},63:function(e,t,r){},64:function(e,t,r){"use strict";r(63);var n=r.p+"static/media/Avengers.c29e0ef0.png",a=r.p+"static/media/Avengers_logo.9b944f71.png",c=r(1);t.a=function(){return Object(c.jsxs)("div",{className:"banner",children:[Object(c.jsx)("div",{className:"banner__image",children:Object(c.jsx)("img",{src:n,alt:"Avengers"})}),Object(c.jsxs)("div",{className:"banner__text",children:[Object(c.jsx)("p",{children:"New comics every week!"}),Object(c.jsx)("p",{children:"Stay tuned!"})]}),Object(c.jsx)("div",{className:"banner__image",children:Object(c.jsx)("img",{src:a,alt:"Avengers Logo"})})]})}}}]);
//# sourceMappingURL=5.fa4a3cfa.chunk.js.map