(this["webpackJsonpmarvel-wiki-portal"]=this["webpackJsonpmarvel-wiki-portal"]||[]).push([[4],{21:function(e,t,a){"use strict";a(22);var r=a(1),c=function(e){var t,a=e.error,c=e.errorMessage,s=e.flex;if(!a)return null;switch(s){case"column":t="error-view error-view_columned";break;case"row":t="error-view error-view_rowed";break;default:t="error-view"}return Object(r.jsxs)("div",{className:t,children:[Object(r.jsx)(n,{}),Object(r.jsx)("p",{className:"error-view__message",children:c})]})},n=function(){return Object(r.jsx)("svg",{viewBox:"0 0 100 100",y:"0",x:"0",xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{height:"150px",width:"150px",background:"none"},width:"150px",height:"150px",children:Object(r.jsx)("g",{className:"ldl-scale",style:{transformOrigin:"50% 50%",transform:"scale(0.8, 0.8)"},children:Object(r.jsxs)("g",{className:"ldl-ani",children:[Object(r.jsx)("g",{className:"ldl-layer",children:Object(r.jsx)("g",{className:"ldl-ani",style:{transformOrigin:"50px 50px",transform:"scale(0.91)"},children:Object(r.jsx)("path",{fill:"#e15b64",d:"M14.653 85.487c-3.138-1.806-4.167-6.008-2.198-9.12 8.401-13.282 18.34-25.329 29.177-36.099 10.916-10.864 22.708-20.49 34.913-29.273 2.772-1.995 6.57-1.344 8.557 1.485 1.928 2.744 1.471 6.578-1.06 8.732-11.111 9.456-21.591 19.558-30.95 30.517C43.876 62.5 35.786 74.12 29.248 86.488c-1.653 3.126-5.423 4.276-8.429 2.547l-6.166-3.548z",style:{fill:"rgb(159, 0, 19)"},children:Object(r.jsx)("animateTransform",{attributeName:"transform",type:"scale",dur:"2s",repeatCount:"indefinite",keyTimes:"0; 0.5; 1",values:"0.8 0.8; 1 1; 0.8 0.8"})})})}),Object(r.jsx)("g",{className:"ldl-layer",children:Object(r.jsx)("g",{className:"ldl-ani",style:{transformOrigin:"50px 50px",transform:"scale(0.91)"},children:Object(r.jsx)("path",{fill:"#e15b64",d:"M78.739 82.438c-3.067 1.804-7.041.872-8.916-2.152-6.367-10.267-14.543-19.718-23.698-28.397-9.306-8.827-19.587-16.906-30.29-24.594a6.594 6.594 0 0 1-1.682-8.948l1.23-1.895a6.609 6.609 0 0 1 9.03-2.012c11.571 7.19 22.962 14.943 33.735 23.864 10.673 8.851 20.777 18.958 29.162 30.721 2.256 3.165 1.337 7.584-2.014 9.555l-6.557 3.858z",style:{fill:"rgb(159, 0, 19)"},children:Object(r.jsx)("animateTransform",{attributeName:"transform",type:"scale",dur:"2s",begin:"0.5s",repeatCount:"indefinite",keyTimes:"0; 0.5; 1",values:"1 1; 0.8 0.8; 1 1"})})})})]})})})};c.defaultProps={error:!0,errorMessage:"Something went wrong. Please try again later"},t.a=c},22:function(e,t,a){},25:function(e,t,a){"use strict";var r=a(23),c=a.n(r),n=a(24),s=a(4),i=a(0),o=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(i.useState)(e),a=Object(s.a)(t,2),r=a[0],o=a[1],l=Object(i.useState)(!1),u=Object(s.a)(l,2),h=u[0],d=u[1],j=Object(i.useState)(""),b=Object(s.a)(j,2),m=b[0],f=b[1],p=Object(i.useState)(!1),O=Object(s.a)(p,2),g=O[0],x=O[1],v=Object(i.useCallback)(function(){var e=Object(n.a)(c.a.mark((function e(t){var a,r,n,s,i,l=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>1&&void 0!==l[1]?l[1]:"GET",r=l.length>2&&void 0!==l[2]?l[2]:null,n=l.length>3&&void 0!==l[3]?l[3]:{"Content-type":"application/json"},o(!1),d(!1),x(!0),e.prev=6,e.next=9,fetch(t,{method:a,body:r,headers:n});case 9:if((s=e.sent).ok){e.next=12;break}throw new Error("Could not fetch ".concat(t,", status: ").concat(s.status));case 12:return e.next=14,s.json();case 14:return i=e.sent,o(!0),d(!1),x(!1),e.abrupt("return",i);case 21:throw e.prev=21,e.t0=e.catch(6),o(!0),d(!0),x(!1),f("Something went wrong. Please try again later."),e.t0;case 28:case"end":return e.stop()}}),e,null,[[6,21]])})));return function(t){return e.apply(this,arguments)}}(),[]),_=Object(i.useCallback)((function(){d(!1),f("")}),[]);return{loaded:r,error:h,errorMessage:m,newItemsLoading:g,request:v,clearError:_}},l="0cccfebfa143cbee173b3ff218a5afc4";t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=o(e),a=t.loaded,r=t.error,s=t.errorMessage,i=t.request,u=t.clearError,h="https://gateway.marvel.com:443/v1/public",d="apikey=",j=210,b=9,m=4,f={allCharacters:"".concat(h,"/characters?"),singleCharacter:"".concat(h,"/characters/"),allComics:"".concat(h,"/comics?"),singleComics:"".concat(h,"/comics/")},p=function(){var e=Object(n.a)(c.a.mark((function e(){var t,a,r=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:j,e.next=3,i(f.allCharacters+"limit=".concat(b,"&offset=").concat(t,"&").concat(d).concat(l));case 3:return a=e.sent,e.abrupt("return",a.data.results.map(_));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(n.a)(c.a.mark((function e(t){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.toString().length<7)){e.next=2;break}throw new Error("Invalid id of a character");case 2:return e.next=4,i(f.singleCharacter+t+"?"+d+l);case 4:return a=e.sent,r=a.data.results[0],e.abrupt("return",_(r));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(n.a)(c.a.mark((function e(){var t,a,r=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:0,e.next=3,i(f.allComics+"limit=".concat(m,"&offset=").concat(t,"&").concat(d).concat(l));case 3:return a=e.sent,e.abrupt("return",a.data.results.map(w));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(n.a)(c.a.mark((function e(t){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(f.singleComics+t+"?"+d+l);case 2:return a=e.sent,r=a.data.results[0],e.abrupt("return",w(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(n.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.toString().length<7)){e.next=2;break}throw new Error("Invalid id of a character");case 2:return e.next=4,i(f.singleCharacter+t+"/comics?"+d+l);case 4:return a=e.sent,e.abrupt("return",a.data.results.map(w));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e){var t="\n            Please visit Homepage or Wiki for detailed description of ".concat(e.name,"\n            "),a=e.description||t;return a.length>=235&&(a=a.slice(0,235)+"..."),{id:e.id,name:e.name,description:a,thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,homepage:e.urls[0].url,wiki:e.urls[1].url}},w=function(e){var t=e.prices[0].price?"".concat(e.prices[0].price,"$"):"Price Not Available",a=e.pageCount?"".concat(e.pageCount," pages"):"Unknown number of pages";return{id:e.id,title:e.title,description:e.description||"No description available",price:t,thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,pages:a,language:e.textObjects.language||"en-US"}};return{_baseCharactersLimit:b,_baseCharactersOffset:j,_baseComicsLimit:m,loaded:a,error:r,errorMessage:s,clearError:u,getAllCharacters:p,getCharacter:O,getAllComics:g,getSingleComics:x,getCharacterComics:v}}},26:function(e,t,a){"use strict";var r=a(27),c=a(28),n=a(30),s=a(29),i=a(0),o=a(21),l=a(1),u=function(e){Object(n.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(r.a)(this,a);for(var c=arguments.length,n=new Array(c),s=0;s<c;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={error:!1},e}return Object(c.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?Object(l.jsx)(o.a,{message:"Something went wrong. Please try again later"}):this.props.children}}]),a}(i.Component);t.a=u},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var r=a(4),c=a(0),n=a(25),s=a(21),i=a(9),o=(a(11),a(35),a(1)),l=function(e){var t=e.character;if(!t)return null;var a=t.name,r=t.thumbnail,c=t.description,n=t.homepage,s=t.wiki,i="random-character__image";return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===r&&(i+=" random-character__image_contain"),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:i,children:Object(o.jsx)("img",{src:r,alt:"random character"})}),Object(o.jsxs)("div",{className:"random-character__details",children:[Object(o.jsx)("h3",{className:"random-character__name",children:a}),Object(o.jsx)("p",{className:"random-character__descr",children:c}),Object(o.jsxs)("div",{className:"random-character__links",children:[Object(o.jsx)("a",{href:n,className:"app-button app-button_main",children:"Homepage"}),Object(o.jsx)("a",{href:s,className:"app-button",children:"Wiki"})]})]})]})},u=function(){var e=Object(n.a)(),t=e.loaded,a=e.error,u=e.errorMessage,h=e.getCharacter,d=e.clearError,j=Object(c.useState)(null),b=Object(r.a)(j,2),m=b[0],f=b[1];Object(c.useEffect)((function(){O()}),[]);var p=function(e){f(e)},O=function(){d(),f(null);var e=1011e3,t=Math.floor(e+400*Math.random());h(t).then(p)};return Object(o.jsxs)("section",{className:"random-section",children:[Object(o.jsxs)("div",{className:"random-character",children:[Object(o.jsx)(l,{character:m}),Object(o.jsx)(i.a,{loaded:t}),Object(o.jsx)(s.a,{error:a,errorMessage:u,flex:"row"})]}),Object(o.jsxs)("div",{className:"random-choose",children:[Object(o.jsxs)("p",{className:"random-choose__text",children:["Random character for today!",Object(o.jsx)("br",{}),"Do you want to get to know him better?"]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{className:"random-choose__text random-choose__text_margined",children:"Or choose another one"}),Object(o.jsx)("button",{className:"app-button app-button_main app-button_on-dark-bg",onClick:O,children:"Try It"})]})]})]})},h=a(34),d=(a(36),function(e){var t=e.id,a=e.image,r=e.name,c=e.onCharacterCardSelected,n="character-card__image";"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===a&&(n+=" character-card__image_contain");var s=e.active?"character-card character-card_active":"character-card";return Object(o.jsxs)("li",{className:s,tabIndex:"0",onClick:function(){return c(t)},onKeyPress:function(e){" "!==e.key&&"Enter"!==e.key||c(t)},children:[Object(o.jsx)("div",{className:n,children:Object(o.jsx)("img",{src:a,alt:"Comics Character Portrait"})}),Object(o.jsx)("div",{className:"character-card__details",children:Object(o.jsx)("h3",{className:"character-card__name",children:r})})]})}),j=(a(37),function(e){var t=e.onCharacterCardSelected,a=e.activeCharacterCard,l=Object(n.a)(),u=l._baseCharactersOffset,j=l._baseCharactersLimit,b=l.loaded,m=l.error,f=l.errorMessage,p=l.newItemsLoading,O=l.clearError,g=l.getAllCharacters,x=Object(c.useState)([]),v=Object(r.a)(x,2),_=v[0],w=v[1],C=Object(c.useState)(!1),N=Object(r.a)(C,2),k=N[0],y=N[1],S=Object(c.useState)(u),M=Object(r.a)(S,2),E=M[0],P=M[1];Object(c.useEffect)((function(){T()}),[]);var I=function(e){var t=!1;e.length<j&&(t=!0),w((function(t){return[].concat(Object(h.a)(t),Object(h.a)(e))})),y(t),P((function(e){return e+j}))},T=function(e){O(),g(e).then(I)},A=function(e,t,a){return e?e.map((function(e){var r=e.id,c=e.name,n=e.thumbnail,s=r===t;return Object(o.jsx)(d,{id:r,name:c,image:n,onCharacterCardSelected:a,active:s},r)})):null}(_,a,t);return Object(o.jsxs)("div",{className:"characters-section",children:[Object(o.jsxs)("ul",{className:"characters-section__list",children:[A,Object(o.jsx)(i.a,{loaded:b}),Object(o.jsx)(s.a,{error:m,errorMessage:f,flex:"column"})]}),Object(o.jsx)("button",{className:"app-button app-button_main app-button_wide",disabled:p,style:{display:k?"none":"block"},onClick:function(){return T(E)},children:"Load More"})]})}),b=a(5),m=(a(38),function(){return Object(o.jsxs)("div",{className:"character__skeleton",children:[Object(o.jsx)("p",{className:"character__select",children:"Please select a character to see information"}),Object(o.jsxs)("div",{className:"skeleton",children:[Object(o.jsxs)("div",{className:"pulse skeleton__header",children:[Object(o.jsx)("div",{className:"pulse skeleton__circle"}),Object(o.jsx)("div",{className:"pulse skeleton__mini"})]}),Object(o.jsx)("div",{className:"pulse skeleton__block"}),Object(o.jsx)("div",{className:"pulse skeleton__block"}),Object(o.jsx)("div",{className:"pulse skeleton__block"})]})]})}),f=(a(39),function(e){var t=e.character;if(!t)return Object(o.jsx)(m,{});if(0===Object.keys(t).length)return null;var a=t.name,r=t.thumbnail,c=t.description,n=t.homepage,s=t.wiki,i="character-info__image";return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===r&&(i+=" character-info__image_contain"),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"character-info__header",children:[Object(o.jsx)("div",{className:i,children:Object(o.jsx)("img",{src:r,alt:"Character Portrait"})}),Object(o.jsxs)("div",{className:"character-info__main",children:[Object(o.jsx)("h3",{className:"character-info__name",children:a}),Object(o.jsxs)("div",{className:"character-info__links",children:[Object(o.jsx)("a",{href:n,className:"app-button app-button_main app-button_mb10",children:"Homepage"}),Object(o.jsx)("a",{href:s,className:"app-button",children:"Wiki"})]})]})]}),Object(o.jsx)("article",{className:"character-info__bio",children:c})]})}),p=function(e){var t=e.characterComics;if(!t||0===t.length)return null;var a=t.map((function(e){var t=e.id,a=e.title,r=e.thumbnail;return Object(o.jsx)("li",{className:"character-info__single-comics",children:Object(o.jsxs)(b.b,{to:"/marvel-wiki-portal/comics/".concat(t),className:"character-info__single-comics_on-hover",children:[Object(o.jsx)("h6",{children:a}),Object(o.jsx)("div",{children:Object(o.jsx)("img",{src:r,alt:"Cover of ".concat(a," comics")})})]})},t)}));return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h5",{children:"Comics:"})," ",a]})},O=function(e){var t=e.characterId,a=Object(c.useRef)(null),l=Object(n.a)(!0),u=l.loaded,h=l.error,d=l.errorMessage,j=l.getCharacter,b=l.getCharacterComics,m=l.clearError,O=Object(c.useState)(null),g=Object(r.a)(O,2),x=g[0],v=g[1],_=Object(c.useState)([]),w=Object(r.a)(_,2),C=w[0],N=w[1];Object(c.useEffect)((function(){M(t),k()}),[t]);var k=function(){var e=a.current.getBoundingClientRect(),t=window.scrollY+e.top;window.scrollTo(0,t)},y=function(e){v(e)},S=function(e){N(e)},M=function(e){e&&(m(),v({}),N([]),j(e).then(y).then((function(){return b(e)})).then(S))};return Object(o.jsxs)("div",{className:"character-info",ref:a,children:[Object(o.jsx)(f,{character:x}),Object(o.jsx)(i.a,{loaded:u}),Object(o.jsx)(s.a,{error:h,errorMessage:d,flex:"row"}),Object(o.jsx)("ul",{className:"character-info__comics",children:Object(o.jsx)(p,{characterComics:C})})]})},g=a(26),x=a.p+"static/media/bottom_bg.4d6f9671.png";t.default=function(){var e=Object(c.useState)(null),t=Object(r.a)(e,2),a=t[0],n=t[1];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(g.a,{children:Object(o.jsx)(u,{})}),Object(o.jsxs)("div",{className:"characters-container",children:[Object(o.jsx)(g.a,{children:Object(o.jsx)(j,{activeCharacterCard:a,onCharacterCardSelected:function(e){n(e)}})}),Object(o.jsx)(g.a,{children:Object(o.jsx)(O,{characterId:a})})]}),Object(o.jsx)("div",{className:"bg-decoration",children:Object(o.jsx)("img",{src:x,alt:"Vision Character in Attacking Pose",className:"bg-decoration__image"})})]})}}}]);
//# sourceMappingURL=4.dc5dbb2c.chunk.js.map