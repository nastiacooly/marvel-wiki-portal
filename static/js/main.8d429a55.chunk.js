(this["webpackJsonpmarvel-wiki-portal"]=this["webpackJsonpmarvel-wiki-portal"]||[]).push([[0],{18:function(e,t,a){},21:function(e,t,a){},22:function(e,t,a){},23:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var r=a(1),c=a.n(r),n=a(9),s=a.n(n),i=a(2),o=(a(18),a(0)),l=function(){return Object(o.jsxs)("header",{className:"app-header",children:[Object(o.jsxs)("h1",{className:"app-name",children:[Object(o.jsx)("span",{className:"app-name__main-title",children:"Marvel"})," Wiki Portal"]}),Object(o.jsx)("nav",{className:"app-menu",children:Object(o.jsxs)("ul",{className:"app-menu__list",children:[Object(o.jsx)("li",{className:"app-menu__item app-menu__item_chosen",children:Object(o.jsx)("a",{href:"marvel.com",children:"Characters"})}),"/",Object(o.jsx)("li",{className:"app-menu__item",children:Object(o.jsx)("a",{href:"marvel.com",children:"Comics"})})]})})]})},j=a(3),d=a.n(j),h=a(5),u=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(r.useState)(e),a=Object(i.a)(t,2),c=a[0],n=a[1],s=Object(r.useState)(!1),o=Object(i.a)(s,2),l=o[0],j=o[1],u=Object(r.useState)(""),m=Object(i.a)(u,2),b=m[0],p=m[1],f=Object(r.useState)(!1),O=Object(i.a)(f,2),x=O[0],v=O[1],g=Object(r.useCallback)(function(){var e=Object(h.a)(d.a.mark((function e(t){var a,r,c,s,i,o=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:"GET",r=o.length>2&&void 0!==o[2]?o[2]:null,c=o.length>3&&void 0!==o[3]?o[3]:{"Content-type":"application/json"},n(!1),j(!1),v(!0),e.prev=6,e.next=9,fetch(t,{method:a,body:r,headers:c});case 9:if((s=e.sent).ok){e.next=12;break}throw new Error("Could not fetch ".concat(t,", status: ").concat(s.status));case 12:return e.next=14,s.json();case 14:return i=e.sent,n(!0),j(!1),v(!1),e.abrupt("return",i);case 21:throw e.prev=21,e.t0=e.catch(6),n(!0),j(!0),v(!1),p("Something went wrong. Please try again later."),e.t0;case 28:case"end":return e.stop()}}),e,null,[[6,21]])})));return function(t){return e.apply(this,arguments)}}(),[]),_=Object(r.useCallback)((function(){j(!1),p("")}),[]);return{loaded:c,error:l,errorMessage:b,newItemsLoading:x,request:g,clearError:_}},m="0cccfebfa143cbee173b3ff218a5afc4",b=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=u(e),a=t.loaded,r=t.error,c=t.errorMessage,n=t.request,s=t.clearError,i="https://gateway.marvel.com:443/v1/public",o="apikey=",l=210,j=9,b={allCharacters:"".concat(i,"/characters?"),singleCharacter:"".concat(i,"/characters/")},p=function(){var e=Object(h.a)(d.a.mark((function e(){var t,a,r=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:l,e.next=3,n(b.allCharacters+"limit=".concat(j,"&offset=").concat(t,"&").concat(o).concat(m));case 3:return a=e.sent,e.abrupt("return",a.data.results.map(O));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(h.a)(d.a.mark((function e(t){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.toString().length<7)){e.next=2;break}throw new Error("Invalid id of a character");case 2:return e.next=4,n(b.singleCharacter+t+"?"+o+m);case 4:return a=e.sent,r=a.data.results[0],e.abrupt("return",O(r));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e){var t="\n            Please visit Homepage or Wiki for detailed description of ".concat(e.name,"\n            "),a=e.description||t;return a.length>=235&&(a=a.slice(0,235)+"..."),{id:e.id,name:e.name,description:a,thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,homepage:e.urls[0].url,wiki:e.urls[1].url,comics:e.comics.items}};return{_baseCharactersLimit:j,_baseCharactersOffset:l,loaded:a,error:r,errorMessage:c,clearError:s,getAllCharacters:p,getCharacter:f}},p=function(){return Object(o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{margin:"0 auto",background:"none",display:"block",shapeRendering:"auto"},width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",children:[Object(o.jsx)("circle",{cx:"50",cy:"50",r:"32",strokeWidth:"8",stroke:"#9f0013",strokeDasharray:"50.26548245743669 50.26548245743669",fill:"none",strokeLinecap:"round",children:Object(o.jsx)("animateTransform",{attributeName:"transform",type:"rotate",dur:"2s",repeatCount:"indefinite",keyTimes:"0;1",values:"0 50 50;360 50 50"})}),Object(o.jsx)("circle",{cx:"50",cy:"50",r:"23",strokeWidth:"8",stroke:"#232222",strokeDasharray:"36.12831551628262 36.12831551628262",strokeDashoffset:"36.12831551628262",fill:"none",strokeLinecap:"round",children:Object(o.jsx)("animateTransform",{attributeName:"transform",type:"rotate",dur:"2s",repeatCount:"indefinite",keyTimes:"0;1",values:"0 50 50;-360 50 50"})})]})},f=(a(21),function(e){var t,a=e.message;switch(e.flex){case"column":t="error-view error-view_columned";break;case"row":t="error-view error-view_rowed";break;default:t="error-view"}return Object(o.jsxs)("div",{className:t,children:[Object(o.jsx)(O,{}),Object(o.jsx)("p",{className:"error-view__message",children:a})]})}),O=function(){return Object(o.jsx)("svg",{viewBox:"0 0 100 100",y:"0",x:"0",xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{height:"150px",width:"150px",background:"none"},width:"150px",height:"150px",children:Object(o.jsx)("g",{className:"ldl-scale",style:{transformOrigin:"50% 50%",transform:"scale(0.8, 0.8)"},children:Object(o.jsxs)("g",{className:"ldl-ani",children:[Object(o.jsx)("g",{className:"ldl-layer",children:Object(o.jsx)("g",{className:"ldl-ani",style:{transformOrigin:"50px 50px",transform:"scale(0.91)"},children:Object(o.jsx)("path",{fill:"#e15b64",d:"M14.653 85.487c-3.138-1.806-4.167-6.008-2.198-9.12 8.401-13.282 18.34-25.329 29.177-36.099 10.916-10.864 22.708-20.49 34.913-29.273 2.772-1.995 6.57-1.344 8.557 1.485 1.928 2.744 1.471 6.578-1.06 8.732-11.111 9.456-21.591 19.558-30.95 30.517C43.876 62.5 35.786 74.12 29.248 86.488c-1.653 3.126-5.423 4.276-8.429 2.547l-6.166-3.548z",style:{fill:"rgb(159, 0, 19)"},children:Object(o.jsx)("animateTransform",{attributeName:"transform",type:"scale",dur:"2s",repeatCount:"indefinite",keyTimes:"0; 0.5; 1",values:"0.8 0.8; 1 1; 0.8 0.8"})})})}),Object(o.jsx)("g",{className:"ldl-layer",children:Object(o.jsx)("g",{className:"ldl-ani",style:{transformOrigin:"50px 50px",transform:"scale(0.91)"},children:Object(o.jsx)("path",{fill:"#e15b64",d:"M78.739 82.438c-3.067 1.804-7.041.872-8.916-2.152-6.367-10.267-14.543-19.718-23.698-28.397-9.306-8.827-19.587-16.906-30.29-24.594a6.594 6.594 0 0 1-1.682-8.948l1.23-1.895a6.609 6.609 0 0 1 9.03-2.012c11.571 7.19 22.962 14.943 33.735 23.864 10.673 8.851 20.777 18.958 29.162 30.721 2.256 3.165 1.337 7.584-2.014 9.555l-6.557 3.858z",style:{fill:"rgb(159, 0, 19)"},children:Object(o.jsx)("animateTransform",{attributeName:"transform",type:"scale",dur:"2s",begin:"0.5s",repeatCount:"indefinite",keyTimes:"0; 0.5; 1",values:"1 1; 0.8 0.8; 1 1"})})})})]})})})};f.defaultProps={message:"Something went wrong"};var x=f,v=(a(22),a(23),function(e){var t=e.character,a=t.name,r=t.thumbnail,c=t.description,n=t.homepage,s=t.wiki,i="random-character__image";return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===r&&(i+=" random-character__image_contain"),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:i,children:Object(o.jsx)("img",{src:r,alt:"random character"})}),Object(o.jsxs)("div",{className:"random-character__details",children:[Object(o.jsx)("h3",{className:"random-character__name",children:a}),Object(o.jsx)("p",{className:"random-character__descr",children:c}),Object(o.jsxs)("div",{className:"random-character__links",children:[Object(o.jsx)("a",{href:n,className:"app-button app-button_main",children:"Homepage"}),Object(o.jsx)("a",{href:s,className:"app-button",children:"Wiki"})]})]})]})}),g=function(){var e=b(),t=e.loaded,a=e.error,c=e.errorMessage,n=e.getCharacter,s=e.clearError,l=Object(r.useState)({}),j=Object(i.a)(l,2),d=j[0],h=j[1];Object(r.useEffect)((function(){m()}),[]);var u=function(e){h(e)},m=function(){s();var e=1011e3,t=Math.floor(e+400*Math.random());n(t).then(u)},f=a?Object(o.jsx)(x,{message:c,flex:"row"}):t?Object(o.jsx)(v,{character:d}):Object(o.jsx)(p,{});return Object(o.jsxs)("section",{className:"random-section",children:[Object(o.jsx)("div",{className:"random-character",children:f}),Object(o.jsxs)("div",{className:"random-choose",children:[Object(o.jsxs)("p",{className:"random-choose__text",children:["Random character for today!",Object(o.jsx)("br",{}),"Do you want to get to know him better?"]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{className:"random-choose__text random-choose__text_margined",children:"Or choose another one"}),Object(o.jsx)("button",{className:"app-button app-button_main app-button_on-dark-bg",onClick:m,children:"Try It"})]})]})]})},_=a(8),N=(a(24),function(e){var t=e.id,a=e.image,r=e.name,c=e.onCharacterCardSelected,n="character-card__image";"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===a&&(n+=" character-card__image_contain");var s=e.active?"character-card character-card_active":"character-card";return Object(o.jsxs)("li",{className:s,tabIndex:"0",onClick:function(){return c(t)},onKeyPress:function(e){" "!==e.key&&"Enter"!==e.key||c(t)},children:[Object(o.jsx)("div",{className:n,children:Object(o.jsx)("img",{src:a,alt:"Comics Character Portrait"})}),Object(o.jsx)("div",{className:"character-card__details",children:Object(o.jsx)("h3",{className:"character-card__name",children:r})})]})}),k=(a(25),function(e){var t=e.onCharacterCardSelected,a=e.activeCharacterCard,c=b(),n=c._baseCharactersOffset,s=c._baseCharactersLimit,l=c.loaded,j=c.error,d=c.errorMessage,h=c.newItemsLoading,u=c.clearError,m=c.getAllCharacters,f=Object(r.useState)([]),O=Object(i.a)(f,2),v=O[0],g=O[1],k=Object(r.useState)(!1),w=Object(i.a)(k,2),C=w[0],y=w[1],S=Object(r.useState)(n),M=Object(i.a)(S,2),E=M[0],T=M[1];Object(r.useEffect)((function(){I()}),[]);var P=function(e){var t=!1;e.length<s&&(t=!0),g((function(t){return[].concat(Object(_.a)(t),Object(_.a)(e))})),y(t),T((function(e){return e+s}))},I=function(e){u(),m(e).then(P)},L=function(){var e=function(e){return e?e.map((function(e){var r=e.id,c=e.name,n=e.thumbnail,s=r===a;return Object(o.jsx)(N,{id:r,name:c,image:n,onCharacterCardSelected:t,active:s},r)})):null}(v);return j?Object(o.jsx)(x,{message:d,flex:"column"}):l?e:Object(o.jsxs)(o.Fragment,{children:[" ",e," ",Object(o.jsx)(p,{})," "]})}();return Object(o.jsxs)("div",{className:"characters-section",children:[Object(o.jsx)("ul",{className:"characters-section__list",children:L}),Object(o.jsx)("button",{className:"app-button app-button_main app-button_wide",disabled:h,style:{display:C?"none":"block"},onClick:function(){return I(E)},children:"Load More"})]})}),w=(a(26),function(){return Object(o.jsxs)("div",{className:"character__skeleton",children:[Object(o.jsx)("p",{className:"character__select",children:"Please select a character to see information"}),Object(o.jsxs)("div",{className:"skeleton",children:[Object(o.jsxs)("div",{className:"pulse skeleton__header",children:[Object(o.jsx)("div",{className:"pulse skeleton__circle"}),Object(o.jsx)("div",{className:"pulse skeleton__mini"})]}),Object(o.jsx)("div",{className:"pulse skeleton__block"}),Object(o.jsx)("div",{className:"pulse skeleton__block"}),Object(o.jsx)("div",{className:"pulse skeleton__block"})]})]})}),C=(a(27),function(e){var t=e.character,a=t.name,r=t.thumbnail,c=t.description,n=t.homepage,s=t.wiki,i="character-info__image";return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===r&&(i+=" character-info__image_contain"),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"character-info__header",children:[Object(o.jsx)("div",{className:i,children:Object(o.jsx)("img",{src:r,alt:"Character Portrait"})}),Object(o.jsxs)("div",{className:"character-info__main",children:[Object(o.jsx)("h3",{className:"character-info__name",children:a}),Object(o.jsxs)("div",{className:"character-info__links",children:[Object(o.jsx)("a",{href:n,className:"app-button app-button_main app-button_mb10",children:"Homepage"}),Object(o.jsx)("a",{href:s,className:"app-button",children:"Wiki"})]})]})]}),Object(o.jsx)("article",{className:"character-info__bio",children:c})]})}),y=function(e){return Object(o.jsx)("li",{className:"character-info__single-comics",children:e.name})},S=function(e){var t,a=e.characterId,c=b(!0),n=c.loaded,s=c.error,l=c.errorMessage,j=c.getCharacter,d=c.clearError,h=Object(r.useState)(null),u=Object(i.a)(h,2),m=u[0],f=u[1];Object(r.useEffect)((function(){v(a)}),[a]);var O=function(e){f(e)},v=function(e){e&&(d(),f(null),j(e).then(O))},g=s?Object(o.jsx)(x,{message:l,flex:"row"}):n?m?Object(o.jsx)(C,{character:m}):Object(o.jsx)(w,{}):Object(o.jsx)(p,{}),_=null===m||void 0===m||null===(t=m.comics)||void 0===t?void 0:t.map((function(e,t){return Object(o.jsx)(y,{name:e.name},t)})),N=_&&_.length>0?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h5",{children:"Comics:"})," ",_]}):null;return Object(o.jsxs)("div",{className:"character-info",children:[g,Object(o.jsx)("ul",{className:"character-info__comics",children:N})]})},M=a(10),E=a(11),T=a(13),P=a(12),I=function(e){Object(T.a)(a,e);var t=Object(P.a)(a);function a(){var e;Object(M.a)(this,a);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={error:!1},e}return Object(E.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?Object(o.jsx)(x,{}):this.props.children}}]),a}(r.Component),L=I,W=a.p+"static/media/bottom_bg.4d6f9671.png",A=(a(28),function(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(o.jsxs)("div",{className:"app-container",children:[Object(o.jsx)(l,{}),Object(o.jsxs)("main",{children:[Object(o.jsx)(L,{children:Object(o.jsx)(g,{})}),Object(o.jsxs)("div",{className:"characters-container",children:[Object(o.jsx)(L,{children:Object(o.jsx)(k,{activeCharacterCard:a,onCharacterCardSelected:function(e){c(e)}})}),Object(o.jsx)(L,{children:Object(o.jsx)(S,{characterId:a})})]})]}),Object(o.jsx)("footer",{className:"app-footer",children:Object(o.jsx)("img",{src:W,alt:"Vision Character in Attacking Pose",className:"app-footer__image"})})]})});a(29);s.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(A,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.8d429a55.chunk.js.map