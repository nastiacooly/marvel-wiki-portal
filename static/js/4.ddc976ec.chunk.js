(this["webpackJsonpmarvel-wiki-portal"]=this["webpackJsonpmarvel-wiki-portal"]||[]).push([[4],{100:function(e,t,a){},101:function(e,t,a){},210:function(e,t,a){},217:function(e,t,a){"use strict";a.r(t);var r=a(4),c=a(0),n=a(49),s=a(30),i=a(41),o=(a(12),a(98),a(1)),l=function(e){var t=e.character;if(!t)return null;var a=t.name,r=t.thumbnail,c=t.description,n=t.homepage,s=t.wiki,i="random-character__image";"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===r&&(i+=" random-character__image_contain");var l=c;return c.length>=235&&(l=c.slice(0,235)+"..."),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:i,children:Object(o.jsx)("img",{src:r,alt:"random character"})}),Object(o.jsxs)("div",{className:"random-character__details",children:[Object(o.jsx)("h3",{className:"random-character__name",children:a}),Object(o.jsx)("p",{className:"random-character__descr",children:l}),Object(o.jsxs)("div",{className:"random-character__links",children:[Object(o.jsx)("a",{href:n,className:"app-button app-button_main",children:"Homepage"}),Object(o.jsx)("a",{href:s,className:"app-button",children:"Wiki"})]})]})]})},u=function(){var e=Object(s.a)(),t=e.process,a=e.setProcess,n=e.getCharacter,u=e.clearError,j=Object(c.useState)(null),h=Object(r.a)(j,2),d=h[0],b=h[1];Object(c.useEffect)((function(){f()}),[]);var m=function(e){b(e)},f=function(){u(),b(null);var e=1011e3,t=Math.floor(e+400*Math.random());n(t).then(m).then((function(){return a("success")}))},p=Object(i.a)(t,d,l);return Object(o.jsxs)("section",{className:"random-section",children:[Object(o.jsx)("div",{className:"random-character",children:p}),Object(o.jsxs)("div",{className:"random-choose",children:[Object(o.jsxs)("p",{className:"random-choose__text",children:["Random character for today!",Object(o.jsx)("br",{}),"Do you want to get to know him better?"]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{className:"random-choose__text random-choose__text_margined",children:"Or choose another one"}),Object(o.jsx)("button",{className:"app-button app-button_main app-button_on-dark-bg",onClick:f,children:"Try It"})]})]})]})},j=a(33),h=(a(99),function(e){var t=e.id,a=e.image,r=e.name,c=e.onCharacterCardSelected,n="character-card__image";"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===a&&(n+=" character-card__image_contain");var s=e.active?"character-card character-card_active":"character-card";return Object(o.jsxs)("li",{className:s,tabIndex:"0",onClick:function(){return c(t)},onKeyPress:function(e){" "!==e.key&&"Enter"!==e.key||c(t)},children:[Object(o.jsx)("div",{className:n,children:Object(o.jsx)("img",{src:a,alt:"Comics Character Portrait"})}),Object(o.jsx)("div",{className:"character-card__details",children:Object(o.jsx)("h3",{className:"character-card__name",children:r})})]})}),d=(a(100),function(e){var t=e.onCharacterCardSelected,a=e.activeCharacterCard,n=Object(s.a)(),l=n._baseCharactersOffset,u=n._baseCharactersLimit,d=n.process,b=n.setProcess,m=n.clearError,f=n.getAllCharacters,p=Object(c.useState)([]),O=Object(r.a)(p,2),x=O[0],v=O[1],g=Object(c.useState)(!1),_=Object(r.a)(g,2),N=_[0],w=_[1],k=Object(c.useState)(l),C=Object(r.a)(k,2),y=C[0],S=C[1];Object(c.useEffect)((function(){E()}),[]);var P=function(e){var t=!1;e.length<u&&(t=!0),v((function(t){return[].concat(Object(j.a)(t),Object(j.a)(e))})),w(t),S((function(e){return e+u}))},E=function(e){m(),f(e).then(P).then((function(){return b("success")}))},F=Object(c.useMemo)((function(){return Object(i.b)(d,(function(){return function(e,t,a){return e?e.map((function(e){var r=e.id,c=e.name,n=e.thumbnail,s=r===t;return Object(o.jsx)(h,{id:r,name:c,image:n,onCharacterCardSelected:a,active:s},r)})):null}(x,a,t)}))}),[d]);return Object(o.jsxs)("div",{className:"characters-section",children:[Object(o.jsx)("ul",{className:"characters-section__list",children:F}),Object(o.jsx)("button",{className:"app-button app-button_main app-button_wide",disabled:"loading"===d,style:{display:N?"none":"block"},onClick:function(){return E(y)},children:"Load More"})]})}),b=a(5),m=(a(101),function(e){var t=e.character;if(!t)return null;var a=t.name,r=t.thumbnail,c=t.description,n=t.homepage,s=t.wiki,i="character-info__image";return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===r&&(i+=" character-info__image_contain"),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"character-info__header",children:[Object(o.jsx)("div",{className:i,children:Object(o.jsx)("img",{src:r,alt:"Character Portrait"})}),Object(o.jsxs)("div",{className:"character-info__main",children:[Object(o.jsx)("h3",{className:"character-info__name",children:a}),Object(o.jsxs)("div",{className:"character-info__links",children:[Object(o.jsx)("a",{href:n,className:"app-button app-button_main app-button_mb10",children:"Homepage"}),Object(o.jsx)("a",{href:s,className:"app-button",children:"Wiki"})]})]})]}),Object(o.jsx)("article",{className:"character-info__bio",children:c})]})}),f=function(e){var t=e.characterComics;if(!t||0===t.length)return null;var a=t.map((function(e){var t=e.id,a=e.name,r=e.thumbnail;return Object(o.jsx)("li",{className:"character-info__single-comics",children:Object(o.jsxs)(b.b,{to:"/marvel-wiki-portal/comics/".concat(t),className:"character-info__single-comics_on-hover",children:[Object(o.jsx)("h6",{children:a}),Object(o.jsx)("div",{children:Object(o.jsx)("img",{src:r,alt:"Cover of ".concat(a," comics")})})]})},t)}));return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h5",{children:"Comics:"})," ",a]})},p=function(e){var t=e.character,a=e.characterComics;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(m,{character:t}),Object(o.jsx)("ul",{className:"character-info__comics",children:Object(o.jsx)(f,{characterComics:a})})]})},O=function(e){var t=e.characterId,a=Object(c.useRef)(null),n=Object(s.a)(),l=n.process,u=n.setProcess,j=n.getCharacter,h=n.getCharacterComics,d=n.clearError,b=Object(c.useState)(null),m=Object(r.a)(b,2),f=m[0],O=m[1],x=Object(c.useState)([]),v=Object(r.a)(x,2),g=v[0],_=v[1];Object(c.useEffect)((function(){C(t),N()}),[t]);var N=function(){var e=a.current.getBoundingClientRect(),t=window.scrollY+e.top;window.scrollTo(0,t)},w=function(e){O(e)},k=function(e){_(e)},C=function(e){e&&(d(),O(null),_([]),j(e).then(w).then((function(){return h(e)})).then(k).then((function(){return u("success")})))},y=Object(i.a)(l,f,p,g);return Object(o.jsx)("div",{className:"character-info",ref:a,children:y})},x=a(214),v=a(215),g=a(9),_=a(24),N=(a(210),function(){var e=Object(s.a)(),t=e.process,a=e.setProcess,n=e.getCharacterByName,i=e.clearError,l=Object(c.useState)({}),u=Object(r.a)(l,2),j=u[0],h=u[1];Object(c.useEffect)((function(){a("success")}),[]);var d=function(e){h(e)};return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(x.d,{initialValues:{name:""},validationSchema:v.a({name:v.b().required("This field is required")}),onSubmit:function(e){return t=e.name,i(),h({}),void n(t).then(d).then((function(){return a("success")}));var t},children:Object(o.jsxs)(x.c,{className:"form",children:[Object(o.jsx)("h5",{className:"form__header",children:"Or find a character by name:"}),Object(o.jsxs)("div",{className:"form__main",children:[Object(o.jsx)(x.b,{id:"name",name:"name",type:"text",placeholder:"Enter name",className:"form__input"}),Object(o.jsx)("button",{type:"submit",className:"app-button app-button_main",disabled:"loading"===t,children:"Find"})]}),Object(o.jsxs)("div",{className:"form__result",children:[Object(o.jsx)(x.a,{name:"name",component:"div",className:"form__error"}),j?null:Object(o.jsx)("div",{className:"form__error",children:"The character was not found. Please, check the name and try again."}),(null===j||void 0===j?void 0:j.id)?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"form__success",children:["Found! Click to visit ",j.name,"'s page."]}),Object(o.jsx)("a",{href:"/marvel-wiki-portal/characters/".concat(j.id),className:"app-button",children:"To Page"})]}):null]}),Object(o.jsx)(g.a,{process:t}),Object(o.jsx)(_.a,{process:t})]})})})}),w=a(40),k=a.p+"static/media/bottom_bg.4d6f9671.png";t.default=function(){var e=Object(c.useState)(null),t=Object(r.a)(e,2),a=t[0],s=t[1];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(n.a,{children:[Object(o.jsx)("meta",{name:"description",content:"Marvel Wiki Portal - Characters"}),Object(o.jsx)("title",{children:"Marvel Wiki Portal - Characters"})]}),Object(o.jsx)(w.a,{children:Object(o.jsx)(u,{})}),Object(o.jsxs)("div",{className:"characters-container",children:[Object(o.jsx)(w.a,{children:Object(o.jsx)(d,{activeCharacterCard:a,onCharacterCardSelected:function(e){s(e)}})}),Object(o.jsxs)("div",{className:"character-details-container",children:[Object(o.jsx)(w.a,{children:Object(o.jsx)(O,{characterId:a})}),Object(o.jsx)(w.a,{children:Object(o.jsx)(N,{})})]})]}),Object(o.jsx)("div",{className:"bg-decoration",children:Object(o.jsx)("img",{src:k,alt:"Vision Character in Attacking Pose",className:"bg-decoration__image"})})]})}},24:function(e,t,a){"use strict";a(31);var r=a(1),c=function(e){var t,a=e.process,c=e.errorMessage,s=e.flex;if("failure"!==a)return null;switch(s){case"column":t="error-view error-view_columned";break;case"row":t="error-view error-view_rowed";break;default:t="error-view"}return Object(r.jsxs)("div",{className:t,children:[Object(r.jsx)(n,{}),Object(r.jsx)("p",{className:"error-view__message",children:c})]})},n=function(){return Object(r.jsx)("svg",{viewBox:"0 0 100 100",y:"0",x:"0",xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{height:"150px",width:"150px",background:"none"},width:"150px",height:"150px",children:Object(r.jsx)("g",{className:"ldl-scale",style:{transformOrigin:"50% 50%",transform:"scale(0.8, 0.8)"},children:Object(r.jsxs)("g",{className:"ldl-ani",children:[Object(r.jsx)("g",{className:"ldl-layer",children:Object(r.jsx)("g",{className:"ldl-ani",style:{transformOrigin:"50px 50px",transform:"scale(0.91)"},children:Object(r.jsx)("path",{fill:"#e15b64",d:"M14.653 85.487c-3.138-1.806-4.167-6.008-2.198-9.12 8.401-13.282 18.34-25.329 29.177-36.099 10.916-10.864 22.708-20.49 34.913-29.273 2.772-1.995 6.57-1.344 8.557 1.485 1.928 2.744 1.471 6.578-1.06 8.732-11.111 9.456-21.591 19.558-30.95 30.517C43.876 62.5 35.786 74.12 29.248 86.488c-1.653 3.126-5.423 4.276-8.429 2.547l-6.166-3.548z",style:{fill:"rgb(159, 0, 19)"},children:Object(r.jsx)("animateTransform",{attributeName:"transform",type:"scale",dur:"2s",repeatCount:"indefinite",keyTimes:"0; 0.5; 1",values:"0.8 0.8; 1 1; 0.8 0.8"})})})}),Object(r.jsx)("g",{className:"ldl-layer",children:Object(r.jsx)("g",{className:"ldl-ani",style:{transformOrigin:"50px 50px",transform:"scale(0.91)"},children:Object(r.jsx)("path",{fill:"#e15b64",d:"M78.739 82.438c-3.067 1.804-7.041.872-8.916-2.152-6.367-10.267-14.543-19.718-23.698-28.397-9.306-8.827-19.587-16.906-30.29-24.594a6.594 6.594 0 0 1-1.682-8.948l1.23-1.895a6.609 6.609 0 0 1 9.03-2.012c11.571 7.19 22.962 14.943 33.735 23.864 10.673 8.851 20.777 18.958 29.162 30.721 2.256 3.165 1.337 7.584-2.014 9.555l-6.557 3.858z",style:{fill:"rgb(159, 0, 19)"},children:Object(r.jsx)("animateTransform",{attributeName:"transform",type:"scale",dur:"2s",begin:"0.5s",repeatCount:"indefinite",keyTimes:"0; 0.5; 1",values:"1 1; 0.8 0.8; 1 1"})})})})]})})})};c.defaultProps={process:"failure",errorMessage:"Something went wrong. Please try again later"},t.a=c},30:function(e,t,a){"use strict";var r=a(34),c=a.n(r),n=a(35),s=a(4),i=a(0),o=function(){var e=Object(i.useState)("idle"),t=Object(s.a)(e,2),a=t[0],r=t[1],o=Object(i.useCallback)(function(){var e=Object(n.a)(c.a.mark((function e(t){var a,n,s,i,o,l=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>1&&void 0!==l[1]?l[1]:"GET",n=l.length>2&&void 0!==l[2]?l[2]:null,s=l.length>3&&void 0!==l[3]?l[3]:{"Content-type":"application/json"},r("loading"),e.prev=4,e.next=7,fetch(t,{method:a,body:n,headers:s});case 7:if((i=e.sent).ok){e.next=10;break}throw new Error("Could not fetch ".concat(t,", status: ").concat(i.status));case 10:return e.next=12,i.json();case 12:return o=e.sent,e.abrupt("return",o);case 16:throw e.prev=16,e.t0=e.catch(4),r("failure"),e.t0;case 20:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t){return e.apply(this,arguments)}}(),[]),l=Object(i.useCallback)((function(){r("loading")}),[]);return{process:a,setProcess:r,request:o,clearError:l}},l="0cccfebfa143cbee173b3ff218a5afc4";t.a=function(){var e=o(),t=e.process,a=e.request,r=e.clearError,s=e.setProcess,i="https://gateway.marvel.com:443/v1/public",u="apikey=",j="".concat(i,"/characters?"),h="".concat(i,"/characters/"),d="".concat(i,"/comics?"),b="".concat(i,"/comics/"),m=function(){var e=Object(n.a)(c.a.mark((function e(){var t,r,n=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:210,e.next=3,a(j+"limit=".concat(9,"&offset=").concat(t,"&").concat(u).concat(l));case 3:return r=e.sent,e.abrupt("return",r.data.results.map(g));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(n.a)(c.a.mark((function e(t){var r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.toString().length<7)){e.next=2;break}throw new Error("Invalid id of a character");case 2:return e.next=4,a(h+t+"?"+u+l);case 4:return r=e.sent,n=r.data.results[0],e.abrupt("return",g(n));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(n.a)(c.a.mark((function e(t){var r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(j+"name=".concat(t)+"&"+u+l);case 2:return r=e.sent,n=r.data.results[0],e.abrupt("return",g(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(n.a)(c.a.mark((function e(){var t,r,n=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:0,e.next=3,a(d+"limit=".concat(4,"&offset=").concat(t,"&").concat(u).concat(l));case 3:return r=e.sent,e.abrupt("return",r.data.results.map(_));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(n.a)(c.a.mark((function e(t){var r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(b+t+"?"+u+l);case 2:return r=e.sent,n=r.data.results[0],e.abrupt("return",_(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(n.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.toString().length<7)){e.next=2;break}throw new Error("Invalid id of a character");case 2:return e.next=4,a(h+t+"/comics?"+u+l);case 4:return r=e.sent,e.abrupt("return",r.data.results.map(_));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){if(!e)return null;var t="\n            Please visit Homepage or Wiki for detailed description of ".concat(e.name,"\n        "),a=e.description||t;return{id:e.id,name:e.name,description:a,thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,homepage:e.urls[0].url,wiki:e.urls[1].url}},_=function(e){var t=e.prices[0].price?"".concat(e.prices[0].price,"$"):"Price Not Available",a=e.pageCount?"".concat(e.pageCount," pages"):"Unknown number of pages";return{id:e.id,name:e.title,description:e.description||"No description available",price:t,thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,pages:a,language:e.textObjects.language||"en-US"}};return{_baseCharactersLimit:9,_baseCharactersOffset:210,_baseComicsLimit:4,process:t,setProcess:s,clearError:r,getAllCharacters:m,getCharacter:f,getAllComics:O,getSingleComics:x,getCharacterComics:v,getCharacterByName:p}}},31:function(e,t,a){},40:function(e,t,a){"use strict";var r=a(22),c=a(23),n=a(26),s=a(27),i=a(0),o=a(24),l=a(1),u=function(e){Object(n.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(r.a)(this,a);for(var c=arguments.length,n=new Array(c),s=0;s<c;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={error:!1},e}return Object(c.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?Object(l.jsx)(o.a,{message:"Something went wrong. Please try again later"}):this.props.children}}]),a}(i.Component);t.a=u},41:function(e,t,a){"use strict";a.d(t,"b",(function(){return i}));a(51);var r=a(1),c=function(){return Object(r.jsxs)("div",{className:"character__skeleton",children:[Object(r.jsx)("p",{className:"character__select",children:"Please select a character to see information"}),Object(r.jsxs)("div",{className:"skeleton",children:[Object(r.jsxs)("div",{className:"pulse skeleton__header",children:[Object(r.jsx)("div",{className:"pulse skeleton__circle"}),Object(r.jsx)("div",{className:"pulse skeleton__mini"})]}),Object(r.jsx)("div",{className:"pulse skeleton__block"}),Object(r.jsx)("div",{className:"pulse skeleton__block"}),Object(r.jsx)("div",{className:"pulse skeleton__block"})]})]})},n=a(9),s=a(24),i=function(e,t){switch(e){case"idle":return Object(r.jsx)(n.a,{});case"loading":return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(t,{}),": ",Object(r.jsx)(n.a,{})]});case"success":return Object(r.jsx)(t,{});case"failure":return Object(r.jsx)(s.a,{flex:"column"});default:throw new Error("Unexpected process state")}};t.a=function(e,t,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;switch(e){case"idle":return i?Object(r.jsx)(c,{}):Object(r.jsx)(n.a,{});case"loading":return Object(r.jsx)(n.a,{});case"success":return Object(r.jsx)(a,{character:t,characterComics:i});case"failure":return Object(r.jsx)(s.a,{flex:"row"});default:throw new Error("Unexpected process state")}}},51:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}}]);
//# sourceMappingURL=4.ddc976ec.chunk.js.map